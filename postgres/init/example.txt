-- Create your own "init.sql" file if you want to init it
DO $$ 
BEGIN 
    IF NOT EXISTS (SELECT FROM pg_roles WHERE rolname = 'YOUR_ROLE_NAME') THEN
        CREATE USER YOUR_ROLE_NAME WITH PASSWORD 'YOUR_PASSWORD';
    END IF;
END $$;

CREATE DATABASE YOUR_DATABASE_NAME;

GRANT CONNECT ON DATABASE YOUR_DATABASE_NAME TO YOUR_ROLE_NAME;

GRANT USAGE ON SCHEMA public TO YOUR_ROLE_NAME;
GRANT SELECT, INSERT, UPDATE, DELETE ON ALL TABLES IN SCHEMA public TO YOUR_ROLE_NAME;
ALTER DEFAULT PRIVILEGES IN SCHEMA public GRANT SELECT, INSERT, UPDATE, DELETE ON TABLES TO YOUR_ROLE_NAME;

GRANT ALL PRIVILEGES ON DATABASE YOUR_DATABASE_NAME TO YOUR_ROLE_NAME;
